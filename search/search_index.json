{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Welcome to MkDocs - \u00c9 m\u00e1gica!","text":"<p>               Bases: <code>BaseModel</code></p> <p>Classe de vendas do meu banco de dados</p> <p>Parameters:</p> Name Type Description Default <code>email</code> <code>EmailStr</code> <p>email do comprador</p> required <code>data</code> <code>datetime</code> <p>data da comra</p> required <code>valor</code> <code>PositiveFloat</code> <p>valor da compra</p> required <code>qtde</code> <code>PositiveInt</code> <p>qtde de produtos</p> required <code>produto</code> <code>ProdutoEnum</code> <p>produto</p> required Source code in <code>contrato.py</code> <pre><code>class Vendas(BaseModel):\n\n    \"\"\"\n    Classe de vendas do meu banco de dados\n\n    Args:\n        email (EmailStr): email do comprador\n        data (datetime): data da comra\n        valor (PositiveFloat): valor da compra\n        qtde (PositiveInt): qtde de produtos\n        produto (ProdutoEnum): produto\n\n    \"\"\"\n\n    email: EmailStr\n    data: datetime\n    valor: PositiveFloat\n    qtde: PositiveInt\n    produto: ProdutoEnum\n</code></pre> <p>Fun\u00e7\u00e3o para salvar dados no postgres</p> Source code in <code>database.py</code> <pre><code>def salvar_dados_no_postgres(dados: Vendas):\n\n    \"\"\"\n        Fun\u00e7\u00e3o para salvar dados no postgres\n    \"\"\"\n\n    try:\n        conn = psycopg2.connect(\n            host=db_host,\n            database=db_name,\n            user=db_user,\n            password=db_pwd\n        )\n\n        cursor = conn.cursor()\n\n        insert_query = sql.SQL(\n            \"INSERT INTO vendas (email, data, valor, qtde, produto) VALUES (%s, %s, %s, %s, %s)\"\n        )\n\n        cursor.execute(insert_query, (\n            dados.email, dados.data, dados.valor, dados.qtde, dados.produto.value\n        ))\n\n        conn.commit()\n        cursor.close()\n        conn.close()\n\n        st.success(\"Dados salvos no DB com sucesso \\\\o/\")\n    except Exception as e:\n        st.error(f\"Erro ao salvar no DB: {e}\")\n</code></pre>"}]}